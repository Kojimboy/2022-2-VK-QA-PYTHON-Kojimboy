## Домашнее задание №1: Базовые навыки работы с Selenium

#### Цель домашнего задания

  * Изучить минимальный набор знаний и навыков для работы с Selenium.
  * Научиться искать элементы с помощью Selenium и проводить с ними простые действия.

#### Задача
* Тестирование портала https://target-sandbox.my.com/
* Настроить окружение для запуска UI тестов, UI тесты должны запускаться через марк -m UI
* В качестве браузера используем Google Chrome версии **105.0.5195.19**. Устанавливаться драйвер должен через webdriver_manager.
* Необходимо передать в качестве входного аргумента pytest (в метод pytest_addoption) значение ```parser.addoption('--headless', action='store_true')```

Разбалловка:
 * Написать тест на логин (0.5 балла).
 * Написать тест на логаут (0.5 балла)
 * Написать два (или более) негативных теста на авторизацию (1 балл).
 * Написать тест на редактирование контактной информации в профиле https://target-sandbox.my.com/profile/contacts - 1 балл
 * Написать параметризованный тест на переход на страницы портала через кнопки Аудитории/Баланс/Статистика/PRO/Профиль/Инструменты/Помощь в шапке меню (на любые 2).
	   Каждый из этих тестов должен переходить по выбранным меню и проверять, что был выполнен переход именно на выбранную страницу - 1 балл (0.5 за параметризацию, 0.5 за корректно проходящий тест). 
   Проверка может осуществляться по наличию какого-то уникального для страницы локатора.

#### Что было сделано:
* Настроено окружение для корректного запуска UI тестов:
  * добавлен марк -m UI
  * выбрана версия **105.0.5195.19** chromedriver 
  * добавлены входные аргументы в метод `pytest_addoption` 
  * настроены зависимости _requirements.txt_

* Написаны тесты:
  * Класс **TestValidLogin** c валидными параметрами на логин:
    * `test_valid_login` на корректную авторизацию
  * Класс **TestInvalidLogin** на некорректную авторизацию:
    * параметризованный `test_invalid_login` на некорректный ввод данных при попытке входа
    * параметризованный `test_unregister_user_login` на авторизацию незарегистрированных пользователей
  * Класс **TestLoggedInUser** c валидными параметрами логина на поведение авторизованного пользователя:
    *  `test_logout` на выход из аккаунта
    * параметризованный `test_edit_user_info` на редактирование контактной информации в профиле
    * параметризованный `test_page_transition` на переход между страницами портала
---
## Домашнее задание №2: Продвинутые навыки работы с Selenium

#### Цель домашнего задания

  * Научиться более продвинуто работать с элементами и действиями с браузером.
  * Изучение паттерна PageObject.
  * Научиться писать тесты под параллельный запуск Selenium.
  * Научиться формировать отчет о тестировании.

#### Задача
* Тестирование портала https://target-sandbox.my.com/
* UI тесты должны запускаться через марк -m UI
* В качестве браузера используем Google Chrome версии **105.0.5195.19**. Устанавливаться драйвер должен через webdriver_manager.
* Необходимо передать в качестве входного аргумента pytest (в метод pytest_addoption) значение ```parser.addoption('--headless', action='store_true')``` (как в первой ДЗ)
* Необходимо реализовать фикстуру, которая будет сама авторизовываться и возвращать в тест PageObject главной страницы.

 1. Общее (4 балла):
     * Тесты должны уметь запускаться параллельно (библиотека pytest-xdist) через –n <num> (2 балла).
     * Тесты должны иметь хороший информативный отчет в allure (шаги, логи, скриншоты) (2 балла).
  2. UI (12 баллов):
     * Написать тест на создание [рекламной кампании](https://target-sandbox.my.com/dashboard) любого типа и проверять что она создана (4 балла).
     * Написать тест на создание сегмента в [аудиториях](https://target-sandbox.my.com/segments/segments_list) с типом "Приложения и игры в соцсетях" и проверить что сегмент создан (2 балла).
     * Написать тест на создание сегмента, добавив в [источники данных](https://target-sandbox.my.com/segments/groups_list) группу [VK образования](https://vk.com/vkedu).
       После этого вам нужно создать сегмент (как и в п.2) с типом "Группы OK и VK", проверить, что он есть, а затем **удалить** именно этот сегмент и добавленный источник данных (3 балла).
     * Весь код должен быть реализован на паттерне PageObject (3 балла).
     
* Самостоятельно: попробовать установить селеноид и научиться им пользоваться. Мы не будем проверять эту часть, но она вам потребуется на итоговом проекте.
Также вы можете впоследствии самостоятельно позапускать домашку с selenoid'ом вне рамок сдачи ДЗ.
* Так же можно приложить в мр линк на видео успешного запуска селеноида у вас локально,
  за это можно будет получить два дополнительных бонусных балла (2 балла)

#### Что было сделано:
* Настроено окружение для корректного запуска UI тестов:
  * добавлен марк -m UI
  * выбрана версия **105.0.5195.19** chromedriver 
  * добавлены входные аргументы в метод `pytest_addoption` 
  * настроены зависимости _requirements.txt_
  * реализована фикстура, которая авторизовывается и возвращает в тест **PageObject** главной страницы
  * добавлена поддержка параллельного запуска (библиотека `pytest-xdist`)
  * использован паттерн **PageObject**
  * добавлен файл _valid_creds.txt_ с валидными значения логина и пароля для авторизации
  * реализована генерация информативного отчета в allure (шаги, логи, скриншоты)

* Написаны тесты:
  * Класс **TestCampaign**:
    * `test_special_campaign` на создание и проверку рекламной кампании "Специальные возможности"
  * Класс **TestSegment**:
    * `test_game_app_segment` на создание и проверку сегмента в аудиториях с типом "Приложения и игры в соцсетях"
    * `test_vk_ok_segment` на создание, проверку и удаление сегмента c источником данных группы VK образование, а также удаление самого источника данных 
---
## Домашнее задание №6 - Backend: MySQL
 
### Цель домашнего задания:
 
- Научиться работать с СУБД из Python
- Получить навыки использования ORM (sqlalchemy)
 
 
### Задача (максимум 7 баллов)
1. Написать в формате тестов код для создания БД и добавления access логов из домашнего задания №5.
2. Все нижеперечисленные действия должны выполняться из Python. Все баллы за задания эквивалентны прошлому ДЗ, за исключением пункта с опцией `--json`
   для python скрипта, т.е. нужно:
   
    2.1. Создать mysql БД для результатов подсчета прямо из тестов, на каждый запуск тестов БД должна пересоздаваться.
    2.2. Переписать скрипт на python из предыдущего домашнего задания в формат тестов pytest, так, чтобы данные по каждому заданию заливались в БД.
    2.3. Каждое задание заливается в отдельную таблицу.
 
3. Проверить работу своего кода нужно по итоговому количеству записей в БД для каждого задания. В идеале - проверять и наполнение.
   То есть, если вам нужно вывести топ-10 записей, то проверяем, что их действительно столько. НЕ ХАРДКОДИТЬ, т.е. мы можем попросить выводить топ-30 записей и т.д.
4. Базу данных поднимаем и настраиваем так же как это делалось в лекции (127.0.0.1:3306, user=root, password=pass). Имя БД - **TEST_SQL**.
 
#### Что было сделано:
* Настроено создание базы данных mysql с ORM(sqlalchemy):
  * база данных **TEST_SQL** (127.0.0.1:3306, user=root, password=pass) создается с 3 таблицами перед тестами и удаляется после завершения тестов

* Написаны тесты:
  * Класс **TestMysql**:
    * `test_top_methods` на заполнение таблицы `total_methods` по заданию на "Общее количество запросов по типу" и проверку количества записей
    * `test_top_reqs` на заполнение таблицы `top_reqs` по заданию на "Топ 10 самых частых запросов" и проверку количества записей
    * `test_top_big_reqs` на заполнение таблицы `top_big_reqs` по заданию "Топ 5 самых больших по размеру запросов, которые завершились клиентской (4ХХ) ошибкой" и проверку количества записей
 
  